@model HikvisionService.Controllers.AuthController.ChangePasswordViewModel
@{
    ViewData["Title"] = "Change Password";
}

<div class="max-w-md mx-auto mt-10">
    <h2 class="text-2xl font-bold mb-6">Change Password</h2>
    
    @if (TempData["SuccessMessage"] != null)
    {
        <div class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4">
            <p>@TempData["SuccessMessage"]</p>
        </div>
    }
    
    <form asp-action="ChangePassword" method="POST">
        @if (ViewData.ModelState.Count > 0)
        {
            <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4">
                @foreach (var error in ViewData.ModelState.Values.SelectMany(v => v.Errors))
                {
                    <p>@error.ErrorMessage</p>
                }
            </div>
        }
        
        <div class="mb-4">
            <label for="currentPassword" class="block text-gray-700 text-sm font-bold mb-2">Current Password</label>
            <input asp-for="CurrentPassword" type="password" required class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
        </div>
        
        <div class="mb-4">
            <label for="password" class="block text-gray-700 text-sm font-bold mb-2">New Password</label>
            <input asp-for="Password" type="password" required class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
        </div>
        
        <div class="mb-6">
            <label for="passwordConfirmation" class="block text-gray-700 text-sm font-bold mb-2">Confirm New Password</label>
            <input asp-for="PasswordConfirmation" type="password" required class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline">
        </div>
        
        <div class="flex items-center justify-between">
            <button type="submit" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline">
                Change Password
            </button>
            <a href="@Url.Action("Index", "Home")" class="inline-block align-baseline font-bold text-sm text-indigo-600 hover:text-indigo-800">
                Cancel
            </a>
        </div>
    </form>
</div>